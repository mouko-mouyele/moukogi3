import{_ as u,c as a,o as n,a as s,F as x,f as p,r as g,g as h,e as d,b as f,t as c}from"./app-Buy0xxf1.js";const y={name:"Alerts",setup(){const l=g({data:[]}),o=async()=>{try{const e=await d.get("/alerts",{params:{status:"active"}});l.value=e.data}catch(e){console.error("Erreur lors du chargement des alertes:",e)}},i=async e=>{try{await d.post(`/alerts/${e.id}/resolve`),o()}catch(t){console.error("Erreur lors de la résolution:",t)}},r=async e=>{try{await d.post(`/alerts/${e.id}/dismiss`),o()}catch(t){console.error("Erreur lors de l'ignorance:",t)}},_=e=>new Date(e).toLocaleDateString("fr-FR");return h(()=>{o()}),{alerts:l,loadAlerts:o,resolveAlert:i,dismissAlert:r,formatDate:_}}},v={class:"container mx-auto px-4 py-8"},b={class:"space-y-4"},w={class:"flex justify-between items-start"},k={class:"flex-1"},A={class:"text-lg font-bold"},C={class:"text-gray-600 mt-2"},D={key:0,class:"text-sm text-gray-500 mt-1"},E={class:"text-xs text-gray-400 mt-2"},$={class:"flex space-x-2"},B=["onClick"],F=["onClick"];function L(l,o,i,r,_,e){return n(),a("div",v,[o[0]||(o[0]=s("h1",{class:"text-3xl font-bold mb-6"},"Alertes",-1)),s("div",b,[(n(!0),a(x,null,p(r.alerts.data,t=>(n(),a("div",{key:t.id,class:"bg-white rounded-lg shadow p-6"},[s("div",w,[s("div",k,[s("h3",A,c(t.title),1),s("p",C,c(t.message),1),t.product?(n(),a("p",D,"Produit: "+c(t.product.name),1)):f("",!0),s("p",E,c(r.formatDate(t.created_at)),1)]),s("div",$,[s("button",{onClick:m=>r.resolveAlert(t),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm"}," Résoudre ",8,B),s("button",{onClick:m=>r.dismissAlert(t),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-sm"}," Ignorer ",8,F)])])]))),128))])])}const R=u(y,[["render",L]]);export{R as default};
