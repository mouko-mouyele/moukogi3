import{_ as x,c as d,o as u,a as r,w as y,b,d as c,v as m,t as p,r as l,e as f,u as v}from"./app-Buy0xxf1.js";const w={name:"Login",setup(){const i=v(),e=l({email:"",password:""}),n=l(""),o=l(!1);return{form:e,error:n,loading:o,login:async()=>{var a,s;n.value="",o.value=!0;try{const t=await f.post("/login",e.value);localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),f.defaults.headers.common.Authorization=`Bearer ${t.data.token}`,i.push("/")}catch(t){n.value=((s=(a=t.response)==null?void 0:a.data)==null?void 0:s.message)||"Erreur de connexion"}finally{o.value=!1}}}}},h={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},k={class:"max-w-md w-full space-y-8"},_={class:"rounded-md shadow-sm -space-y-px"},S={key:0,class:"text-red-600 text-sm text-center"},B=["disabled"];function M(i,e,n,o,g,a){return u(),d("div",h,[r("div",k,[e[5]||(e[5]=r("div",null,[r("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Connexion Ã  votre compte ")],-1)),r("form",{class:"mt-8 space-y-6",onSubmit:e[2]||(e[2]=y((...s)=>o.login&&o.login(...s),["prevent"]))},[r("div",_,[r("div",null,[e[3]||(e[3]=r("label",{for:"email",class:"sr-only"},"Email",-1)),c(r("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.email=s),type:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Adresse email"},null,512),[[m,o.form.email]])]),r("div",null,[e[4]||(e[4]=r("label",{for:"password",class:"sr-only"},"Mot de passe",-1)),c(r("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.password=s),type:"password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe"},null,512),[[m,o.form.password]])])]),o.error?(u(),d("div",S,p(o.error),1)):b("",!0),r("div",null,[r("button",{type:"submit",disabled:o.loading,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},p(o.loading?"Connexion...":"Se connecter"),9,B)])],32)])])}const z=x(w,[["render",M]]);export{z as default};
