import{_ as h,c as d,o as l,a as t,t as o,F as p,f as u,r as i,g,e as f,h as w,i as b,j as v,k,n as D}from"./app-Buy0xxf1.js";const S={name:"Dashboard",setup(){const n=i({total_products:0,total_value:0,low_stock_products:0,active_alerts:0,rotation_rate:0}),e=i([]),c=i([]),a=i([]),_=async()=>{try{const s=await f.get("/dashboard");n.value=s.data.statistics,e.value=s.data.products_near_rupture,c.value=s.data.recent_movements,a.value=s.data.alerts}catch(s){console.error("Erreur lors du chargement du tableau de bord:",s)}},m=s=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(s),x=s=>new Date(s).toLocaleDateString("fr-FR");return g(()=>{_()}),{statistics:n,productsNearRupture:e,recentMovements:c,alerts:a,formatCurrency:m,formatDate:x}}},C={class:"container mx-auto px-4 py-8"},F={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},N={class:"bg-white rounded-lg shadow p-6"},M={class:"text-3xl font-bold text-gray-900"},R={class:"bg-white rounded-lg shadow p-6"},A={class:"text-3xl font-bold text-gray-900"},E={class:"bg-white rounded-lg shadow p-6"},P={class:"text-3xl font-bold text-red-600"},T={class:"bg-white rounded-lg shadow p-6"},V={class:"text-3xl font-bold text-yellow-600"},B={class:"bg-white rounded-lg shadow mb-8"},L={class:"p-6"},U={class:"overflow-x-auto"},j={class:"min-w-full divide-y divide-gray-200"},q={class:"bg-white divide-y divide-gray-200"},z={class:"px-6 py-4 whitespace-nowrap"},I={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},H={class:"bg-white rounded-lg shadow mb-8"},J={class:"p-6"},K={class:"space-y-4"},O={class:"flex"},W={class:"flex-1"},X={class:"text-sm font-medium text-yellow-800"},Y={class:"text-sm text-yellow-700"},Z={class:"text-xs text-yellow-600 mt-1"},$={class:"bg-white rounded-lg shadow"},tt={class:"p-6"},st={class:"overflow-x-auto"},et={class:"min-w-full divide-y divide-gray-200"},ot={class:"bg-white divide-y divide-gray-200"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},dt={class:"px-6 py-4 whitespace-nowrap"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"};function nt(n,e,c,a,_,m){const x=w("router-link");return l(),d("div",C,[e[9]||(e[9]=t("h1",{class:"text-3xl font-bold mb-6"},"Tableau de bord",-1)),t("div",F,[t("div",N,[e[0]||(e[0]=t("h3",{class:"text-gray-500 text-sm font-medium"},"Total Produits",-1)),t("p",M,o(a.statistics.total_products),1)]),t("div",R,[e[1]||(e[1]=t("h3",{class:"text-gray-500 text-sm font-medium"},"Valeur du Stock",-1)),t("p",A,o(a.formatCurrency(a.statistics.total_value)),1)]),t("div",E,[e[2]||(e[2]=t("h3",{class:"text-gray-500 text-sm font-medium"},"Stock Faible",-1)),t("p",P,o(a.statistics.low_stock_products),1)]),t("div",T,[e[3]||(e[3]=t("h3",{class:"text-gray-500 text-sm font-medium"},"Alertes Actives",-1)),t("p",V,o(a.statistics.active_alerts),1)])]),t("div",B,[t("div",L,[e[5]||(e[5]=t("h2",{class:"text-xl font-bold mb-4"},"Produits proches de la rupture",-1)),t("div",U,[t("table",j,[e[4]||(e[4]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Produit"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Stock Actuel"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Stock Minimum"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Catégorie")])],-1)),t("tbody",q,[(l(!0),d(p,null,u(a.productsNearRupture,s=>{var r;return l(),d("tr",{key:s.id},[t("td",z,[b(x,{to:`/products/${s.id}`,class:"text-indigo-600 hover:text-indigo-900"},{default:v(()=>[k(o(s.name),1)]),_:2},1032,["to"])]),t("td",I,o(s.current_stock),1),t("td",Q,o(s.stock_minimum),1),t("td",G,o(((r=s.category)==null?void 0:r.name)||"-"),1)])}),128))])])])])]),t("div",H,[t("div",J,[e[6]||(e[6]=t("h2",{class:"text-xl font-bold mb-4"},"Alertes récentes",-1)),t("div",K,[(l(!0),d(p,null,u(a.alerts,s=>{var r;return l(),d("div",{key:s.id,class:"border-l-4 border-yellow-400 bg-yellow-50 p-4"},[t("div",O,[t("div",W,[t("h3",X,o(s.title),1),t("p",Y,o(s.message),1),t("p",Z,o((r=s.product)==null?void 0:r.name),1)])])])}),128))])])]),t("div",$,[t("div",tt,[e[8]||(e[8]=t("h2",{class:"text-xl font-bold mb-4"},"Mouvements récents",-1)),t("div",st,[t("table",et,[e[7]||(e[7]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Produit"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Quantité"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Utilisateur")])],-1)),t("tbody",ot,[(l(!0),d(p,null,u(a.recentMovements,s=>{var r,y;return l(),d("tr",{key:s.id},[t("td",at,o(a.formatDate(s.movement_date)),1),t("td",rt,o((r=s.product)==null?void 0:r.name),1),t("td",dt,[t("span",{class:D([s.type==="entree"?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-2 py-1 text-xs font-semibold rounded-full"])},o(s.type==="entree"?"Entrée":"Sortie"),3)]),t("td",lt,o(s.quantity),1),t("td",it,o((y=s.user)==null?void 0:y.name),1)])}),128))])])])])])])}const xt=h(S,[["render",nt]]);export{xt as default};
